@page "/customer/settings"
@layout CustomerLayout

<div style="padding: 24px; max-width: 1200px; margin: 0 auto;">
    <!-- Header -->
    <div style="background: linear-gradient(135deg, #6366f1, #4f46e5); border-radius: 16px; padding: 24px; margin-bottom: 24px; color: white;">
        <div style="display: flex; align-items: center; gap: 16px;">
            <div style="width: 60px; height: 60px; background: rgba(255,255,255,0.2); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                <span style="font-size: 32px;">‚öôÔ∏è</span>
            </div>
            <div>
                <h1 style="font-size: 28px; font-weight: 700; margin: 0;">Settings</h1>
                <p style="margin: 4px 0 0; opacity: 0.9; font-size: 16px;">Manage your account preferences and security</p>
            </div>
        </div>
    </div>

    <div style="display: grid; grid-template-columns: 250px 1fr; gap: 24px;">
        <!-- Settings Navigation -->
        <div style="background: white; border-radius: 16px; padding: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); height: fit-content;">
            <div style="display: flex; flex-direction: column; gap: 8px;">
                @foreach (var tab in settingsTabs)
                {
                    <button @onclick="() => activeTab = tab" style="padding: 12px 16px; background: @(activeTab == tab ? "#eef2ff" : "transparent"); border: none; border-radius: 8px; text-align: left; cursor: pointer; font-weight: @(activeTab == tab ? "600" : "400"); color: @(activeTab == tab ? "#6366f1" : "#1f2937"); transition: all 0.2s;">
                        @tab
                    </button>
                }
            </div>
        </div>

        <!-- Settings Content -->
        <div>

            <!-- Appearance & Accessibility Tab -->
            @if (activeTab == "Appearance & Accessibility")
            {
                <div style="background: white; border-radius: 16px; padding: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h2 style="font-size: 20px; font-weight: 600; color: #1f2937; margin-bottom: 24px;">Appearance & Accessibility</h2>
                    
                    <!-- Dark Mode -->
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">üåô Dark Mode</div>
                                <div style="font-size: 14px; color: #6b7280;">Enable dark mode for better viewing at night</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="darkMode" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(darkMode ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(darkMode ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Font Size -->
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 20px;">
                        <div style="font-weight: 600; color: #1f2937; margin-bottom: 12px;">üî§ Font Size</div>
                        <div style="font-size: 14px; color: #6b7280; margin-bottom: 16px;">Adjust text size for better readability</div>
                        <div style="display: flex; gap: 12px;">
                            @foreach (var size in new[] { "Small", "Medium", "Large", "Extra Large" })
                            {
                                <button @onclick="() => fontSize = size" style="flex: 1; padding: 12px; background: @(fontSize == size ? "#6366f1" : "white"); color: @(fontSize == size ? "white" : "#1f2937"); border: 2px solid @(fontSize == size ? "#6366f1" : "#e5e7eb"); border-radius: 8px; font-weight: 600; cursor: pointer; transition: all 0.2s;">
                                    @size
                                </button>
                            }
                        </div>
                    </div>

                    <!-- High Contrast -->
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">üîÜ High Contrast Mode</div>
                                <div style="font-size: 14px; color: #6b7280;">Increase contrast for better visibility</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="highContrast" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(highContrast ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(highContrast ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Reduce Motion -->
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">‚è∏Ô∏è Reduce Motion</div>
                                <div style="font-size: 14px; color: #6b7280;">Minimize animations and transitions</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="reduceMotion" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(reduceMotion ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(reduceMotion ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Color Blind Mode -->
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">üé® Color Blind Mode</div>
                                <div style="font-size: 14px; color: #6b7280;">Adjust colors for color blindness</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="colorBlindMode" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(colorBlindMode ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(colorBlindMode ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Language -->
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px;">
                        <div style="font-weight: 600; color: #1f2937; margin-bottom: 12px;">üåé Language</div>
                        <select class="form-control" @bind="language" style="font-size: 16px; padding: 12px;">
                            <option value="en">English</option>
                            <option value="fil">Filipino</option>
                            <option value="es">Espa√±ol</option>
                            <option value="zh">Chinese (‰∏≠Êñá)</option>
                        </select>
                    </div>

                    <button style="width: 100%; margin-top: 24px; padding: 14px; background: linear-gradient(135deg, #6366f1, #4f46e5); border: none; border-radius: 12px; color: white; font-size: 16px; font-weight: 600; cursor: pointer;">
                        Save Preferences
                    </button>
                </div>
            }

            <!-- Security Tab -->
            @if (activeTab == "Security")
            {
                <div style="background: white; border-radius: 16px; padding: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h2 style="font-size: 20px; font-weight: 600; color: #1f2937; margin-bottom: 24px;">Security Settings</h2>
                    
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label class="form-label">Current Password</label>
                        <input type="password" class="form-control" style="font-size: 16px; padding: 12px;" />
                    </div>
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label class="form-label">New Password</label>
                        <input type="password" class="form-control" style="font-size: 16px; padding: 12px;" />
                    </div>
                    <div class="form-group" style="margin-bottom: 24px;">
                        <label class="form-label">Confirm New Password</label>
                        <input type="password" class="form-control" style="font-size: 16px; padding: 12px;" />
                    </div>

                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 20px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">üîê Two-Factor Authentication</div>
                                <div style="font-size: 14px; color: #6b7280;">Add an extra layer of security</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="twoFactorAuth" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(twoFactorAuth ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(twoFactorAuth ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <button style="width: 100%; padding: 14px; background: linear-gradient(135deg, #6366f1, #4f46e5); border: none; border-radius: 12px; color: white; font-size: 16px; font-weight: 600; cursor: pointer;">
                        Update Password
                    </button>
                </div>
            }

            <!-- Notifications Tab -->
            @if (activeTab == "Notifications")
            {
                <div style="background: white; border-radius: 16px; padding: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
                    <h2 style="font-size: 20px; font-weight: 600; color: #1f2937; margin-bottom: 24px;">Notification Preferences</h2>
                    
                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">Email Notifications</div>
                                <div style="font-size: 14px; color: #6b7280;">Receive updates via email</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="emailNotifs" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(emailNotifs ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(emailNotifs ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <div style="padding: 20px; background: #f9fafb; border-radius: 12px; margin-bottom: 16px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: #1f2937; margin-bottom: 4px;">SMS Notifications</div>
                                <div style="font-size: 14px; color: #6b7280;">Receive updates via SMS</div>
                            </div>
                            <label style="position: relative; display: inline-block; width: 60px; height: 34px;">
                                <input type="checkbox" @bind="smsNotifs" style="opacity: 0; width: 0; height: 0;" />
                                <span style="position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background: @(smsNotifs ? "#6366f1" : "#cbd5e1"); transition: 0.4s; border-radius: 34px;">
                                    <span style="position: absolute; content: ''; height: 26px; width: 26px; left: @(smsNotifs ? "30px" : "4px"); bottom: 4px; background: white; transition: 0.4s; border-radius: 50%;"></span>
                                </span>
                            </label>
                        </div>
                    </div>

                    <button style="width: 100%; padding: 14px; background: linear-gradient(135deg, #6366f1, #4f46e5); border: none; border-radius: 12px; color: white; font-size: 16px; font-weight: 600; cursor: pointer;">
                        Save Preferences
                    </button>
                </div>
            }
        </div>
    </div>
</div>

@code {
    private List<string> settingsTabs = new() { "Appearance & Accessibility", "Security", "Notifications" };
    private string activeTab = "Appearance & Accessibility";
    
    // Appearance & Accessibility
    private bool darkMode = false;
    private string fontSize = "Medium";
    private bool highContrast = false;
    private bool reduceMotion = false;
    private bool colorBlindMode = false;
    private string language = "en";
    
    // Security
    private bool twoFactorAuth = true;
    
    // Notifications
    private bool emailNotifs = true;
    private bool smsNotifs = true;
}
